<br>

<h1>HOME</h1>

<br>
<br>

<%# Navbar%>
<div class="row">
<div class="col-2">
  <div class="nav flex-column nav-pills" id="v-pills-tab" role="tablist" aria-orientation="vertical">
    <a class="nav-link active" id="v-pills-home-tab" data-toggle="pill" href="#v-pills-home" role="tab" aria-controls="v-pills-home" aria-selected="true">Home</a>
    <a class="nav-link" id="v-pills-add-new-user-tab" data-toggle="pill" href="#v-pills-add-new-user" role="tab" aria-controls="v-pills-add-new-user" aria-selected="false">Add A New User</a>
    <a class="nav-link" id="v-pills-add-imap-provider-tab" data-toggle="pill" href="#v-pills-add-imap-provider" role="tab" aria-controls="v-pills-add-imap-provider" aria-selected="false">Add A New Provider</a>
    <a class="nav-link" id="v-pills-settings-tab" data-toggle="pill" href="#v-pills-settings" role="tab" aria-controls="v-pills-settings" aria-selected="false">Settings</a>
  </div>
</div>
<%# HOME - Display Users Table%>
<div class="col-10">
  <div class="tab-content" id="v-pills-tabContent">
    <div class="tab-pane fade show active" id="v-pills-home" role="tabpanel" aria-labelledby="v-pills-home-tab">
      <table>
        <tr>
          <th>First Name &nbsp; &nbsp; &nbsp;</th>
          <th>Last Name</th>
          <th>Email</th>
          <th>Can Login? </th>
        </tr>
        <% @users.each do |user| %>
          <tr>
            <td><%= user.first_name %></td>
            <td><%= user.last_name %></td>
            <td><%= user.email %></td>
            <td><%= user.can_login %></td>
          </tr>
        <% end %>
      </table>

      <h3>Providers</h3>

      <table>
        <tr>
          <th>Name &nbsp; &nbsp; &nbsp;</th>
          <th>Server</th>
          <th>Port</th>
          <th>SSL</th>
        </tr>
        <% @imap_providers.each do |provider| %>
          <tr>
            <td><%= provider.name %></td>
            <td><%= provider.server %></td>
            <td><%= provider.port %></td>
            <td><%= provider.ssl %></td>
          </tr>
        <% end %>
      </table>


    </div>
<%# Add New User%>
  <div class="tab-pane fade" id="v-pills-add-new-user" role="tabpanel" aria-labelledby="v-pills-add-new-user-tab">
  <h3>Create a new user here...</h3>
    <%= form_for(User.new, :html => {:class => 'form_group'}) do |form| %>
      <div class='row'>
        <div class='col-2'>
          <div class='form-group'>
            <%= form.text_field :first_name, class:'form-control', placeholder: 'first name' %>
          </div>
        </div>
        <div class='col-2'>
          <div class='form-group'>
            <%= form.text_field :last_name, class:'form-control', placeholder: 'last name' %>
          </div>
        </div>
      </div>
      <div class='row'>
        <div class='col-2'>
          <div class='form-group'>
          <%= form.text_field :email, class:'form-control', placeholder: 'email' %>
          </div>
        </div>
      </div>
      <div class='form-check'>
        <%= form.check_box :can_login, class:'form-check-input', id:'can_login'%>
        <label for="can_login">Can this user login?</label>
      </div>
      <br>
      <%= form.submit "Submit", class:'btn btn-primary' %>
    <% end %>
  </div>
<%# Spare Page%>
  <div class="tab-pane fade" id="v-pills-add-imap-provider" role="tabpanel" aria-labelledby="v-pills-add-imap-provider-tab">
  <h3>Create a new provider here...</h3>
    <%= form_for(ImapProvider.new, :html => {:class => 'form_group'}) do |form| %>
      <div class='row'>
        <div class='col-2'>
          <div class='form-group'>
            <%= form.text_field :name, class:'form-control', placeholder: 'i.e. Google' %>
          </div>
        </div>
        <div class='col-2'>
          <div class='form-group'>
            <%= form.text_field :server, class:'form-control', placeholder: 'i.e. imap.gmail.com' %>
          </div>
        </div>
      </div>
      <div class='row'>
        <div class='col-2'>
          <div class='form-group'>
            <%= form.text_field :port, class:'form-control', placeholder: 'i.e. 993' %>
          </div>
        </div>
      </div>
      <div class='form-check'>
        <%= form.check_box :ssl, class:'form-check-input', id:'ssl'%>
        <label for="can_login">Use SSL?</label>
      </div>
      <br>
      <%= form.submit "Submit", class:'btn btn-primary' %>
    <% end %>
  </div>
<%# Spare Page%>
  <div class="tab-pane fade" id="v-pills-settings" role="tabpanel" aria-labelledby="v-pills-settings-tab">
  <p>You are running module imap-backup version <%= @imap_backup_version %></p>
  </div>
</div>

